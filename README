名前
       jd - a 2ch browser for Linux

書式
       jd

URL

       http://jd4linux.sourceforge.jp/



//////////////////////////////////////////////////////////////
//
// ライセンス、コピーライト
//

GPL2

(c)2006-2007 JD project


パッチやファイルを取り込んだ場合、それらのコピーライトは「JD project」に統一します。
また将来的にライセンスをGPL3に変更するかもしれません。GPL3以降へのライセンス変更に
関してはプロジェクトリーダーに一任させて頂きます。



//////////////////////////////////////////////////////////////
//
// make、実行方法
//

・動作環境

gtkmm24-2.4.8 以上必須
zlib-1.2 以上必須
openssl-0.9 以上必須

kernel2.6以上推奨
gtkmm2.8以上推奨 ( 2.6より低いとレイアウトが一部崩れる、2.8より低いとスレ一覧表示が遅い )
UTF-8環境推奨 ( EUC環境ては LANG="ja_JP.UTF-8" を指定する必要がある )


・makeに必要なツール、ライブラリ

autoconf
automake
libtool
gtkmm24-devel
zlib-devel
openssl-devel( 又は libssl-devel )


・make 方法( rpmbuild の場合 )

rpmbuild -tb 〜.tgz でrpmファイルが出来るのであとは rpm -Uvh 〜.rpm
ライブラリが足りないといわれたら yum install 〜-devel
起動はメニューから起動するか、端末で jd と打ち込んでエンターを押す。



・make 方法( configure + make の場合 )

autoreconf -i ( 又は ./autogen.sh )
./configure
make
(お好みで) strip src/jd

最近のディストリビューションの場合は autogen.sh よりも autoreconf -i の方を推奨。
実行するには直接 src/jd を起動するか手動で /usr/bin あたりに src/jd を cp する。

以上の操作でmakeが通らなかったり動作が変な時は configure のオプションを変更する。

XSMPを使ってセッション管理をするには ./configure --with-sessionlib=xsmp
GNOMEUIを使ってセッション管理をするには ./configure --with-sessionlib=gnomeui
セッション管理を無効にするには ./configure --with-sessionlib=no
とする。デフォルトでは XSMPを使用する。

描画に PangoLayoutを使うには ./configure --with-pangolayout とする
デフォルトでは PangoGlyphString を使用する。

またmigemoがUTF-8の辞書でインストールされているときは ./configure --with-migemo で
migemoによる検索が有効になる。デフォルトでは無効になっている。

cpu に core2 duo を使用しているときは ./configure --with-core2duo でcore2 duo向けに最適化される


//////////////////////////////////////////////////////////////
//
//  datファイルのインポート
//

JDのキャッシュ構造はnavi2chの上位互換仕様なので、navi2chからインポートする場合は
起動する前に cp -r .navi2ch .jd というようにディレクトリごとコピーするだけで良い。

また環境変数 JD_CACHE を用いて

JD_CACHE=~/.navi2ch ./jd

とJDを起動するとnavi2chとキャッシュを共有できるが自己責任でおこなうこと。

個別にdatファイルをインポートする場合は、対象の板を一度開いてからJDを終了
すると板のキャッシュディレクトリが出来るので、そのキャッシュディレクトリに
datファイルを全てコピーしてからもう一度起動してその板を開くと自動でインポートされる。

なおインポート後に初めてその板を開いたときはdatファイルを解析するため少し時間がかかる。



//////////////////////////////////////////////////////////////
//
// バックアップ、アンインストール 
//

バックアップはキャッシュディレクトリ(デフォルトでは ~/.jd )以下を保存するだけでよい

・アンインストール方法( rpm の場合 )

rpm -e jd
rm -rf キャッシュディレクトリ


・アンインストール方法( 手動の場合 )

rm (インストールパス)/jd
rm -rf キャッシュディレクトリ



//////////////////////////////////////////////////////////////
//
// お気に入りの編集、登録、削除方法
//

板、スレ、画像に関してお気に入りの登録が可能。左サイドバー内のお気に入り
タブをクリックするとお気に入りビューが表示される。

お気に入りはドラッグ&ドロップで直接編集可能。また、お気に入りの設定ファイル
(キャッシュディレクトリ内にあるfavorite.xml)はXML形式なので手動で編集しても可。


登録方法

(1) スレ一覧やスレなどの各ビューのタブをお気に入りビューにドラッグ&ドロップ
(2) 各ビューのお気に入りボタンを押す
(3) スレ一覧でctrl+クリックで複数のスレを選択 -> お気に入りビューにドラッグ&ドロップ
(4) スレ一覧でctrl+クリックで複数のスレを選択 -> 右クリック -> 「お気に入りに追加」を選択
(5) 画像アイコンをお気に入りビューにドラッグ&ドロップ
(6) 画像ビューで右クリック -> 「お気に入りに追加」を選択


削除方法

(1) お気に入りビューでctrl+クリックで複数行を選択 -> 右クリック -> 削除
(2) お気に入りビューでctrl+クリックで複数行を選択 -> delete キー



//////////////////////////////////////////////////////////////
//
// 板移転について
//

「ファイル」メニューから板リストを再読込したときに移転した板があるときは自動で移転処理する。
なお移転処理をしたあとは一度JDを再起動することを推奨する。


//////////////////////////////////////////////////////////////
//
// 2chログインについて
//

ログインメニューの「設定」にIDとパスワードを入れて「2chログイン」を
選ぶとログインできる。



//////////////////////////////////////////////////////////////
//
// ユーザコマンド登録
//

スレ一覧の右クリックメニューに自前のコマンドを登録できる。

JDを一度起動するとキャッシュディレクトリにできる usrcmd.txt にコマンドを登録する。

usrcmd.txtの形式は

コマンド名
実行するコマンド

であり、実行するコマンドでは以下のような置換文字列を指定することが出来る。

$VIEW   webブラウザで開く (例) $VIEW $LINK でリンクをブラウザで開く

$URL    スレのURL
$SERVER スレのURLから取り出したサーバー名(http://などのプロトコル含む)
$HOSTNAME スレのURLから取り出したサーバー名(http://などのプロトコル除く)

$LINK   マウスの下にリンクがあればそのURL
$SERVERL リンクから取り出したサーバー名(http://などのプロトコル含む)
$HOSTNAMEL リンクから取り出したサーバー名(http://などのプロトコル除く)

$TEXT   範囲選択した文字列(UTF-8)
$TEXTU  範囲選択した文字列(UTF-8)をURLエンコード
$TEXTX  範囲選択した文字列をEUCに変換してURLエンコード
$TEXTE  範囲選択した文字列をSJIS(MS932)に変換してURLエンコード


なお空白行と # から始まるコメント行は無視される。


(例) 

# コメント

googleで検索
$VIEW http://www.google.co.jp/search?hl=ja&q=$TEXTU&btnG=Google+%E6%A4%9C%E7%B4%A2&lr=

infoseek国語辞典
$VIEW http://jiten.www.infoseek.co.jp/Kokugo?qt=$TEXTE&sm=1&pg=result_k.html&col=KO


//////////////////////////////////////////////////////////////
//
// 外部板登録
//

現在の対応板

2ch互換板
livedoorしたらば
まちBBS


まちBBSは板一覧ビューに表示される(表示されてい無い時は板一覧を更新する)。

その他の板を登録するにはキャッシュディレクトリにある etc.txt にアドレスを書く。
登録した板は板一覧ビューの先頭に表示される。

etc.txtの形式はnavi2ch互換で

板の名前
板のURL
板のID

の順。なお板のIDはJDでは使用しないので適当で可。またURLの最後は必ず'/'で終わらせること。

またBASIC認証のある板の場合は http://ID:PASSWD@hoge.com/board/ のようにIDとパスワード
の組を:で区切ってホスト名の前に書き、ホスト名とは@で区切る。

なお空白行と # から始まるコメント行は無視される(ただしnavi2chと互換性が無くなるので注意)。


(例)

# コメント

Linux板
http://pc8.2ch.net/linux/
linux

JBBSの板(適当)
http://jbbs.livedoor.jp/computer/123456/
123456



//////////////////////////////////////////////////////////////
//
//  操作方法
//


[ 共通操作 ]

h, 左: 前のビューに戻る(例えばスレビューならスレ一覧ビューに戻る)
l, 右: 次のビューに進む
Alt + x, マウスのボタン５ : スレ一覧ビュー <-> スレビュー 切替え (2ペーンモード時)
q, Ctrl+w : 閉じる
s, F5, マウスのボタン４ : 再読込
ESC : ロード停止
ctrl + h, ctrl + 左, ctrl + Pageup, Ctrl + Shift + Tab : 左のタブへ移動
ctrl + l, ctrl + 右, ctrl + PageDown, Ctrl + Tab : 右のタブへ移動
タブをダブルクリック : 再読み込み
タブを中クリック : 閉じる
タブをドラッグ -> タブにドロップ :  ページの入れ替え
タブをドラッグ -> お気に入りにドロップ :  お気に入り登録
Shift+F10, Ctrl+m : メニュー表示
F9: サイドバー(板一覧)表示切り替え



[ スレ一覧ビュー ←→ スレビュー の切り替え方法 ]

デフォルトでは 2pane 表示になっているので、スレ一覧ビューとスレビューを切り替えたいときは

(1) マウスジェスチャ(マウス右ボタンを押しながら ↓ に動かしてボタンを放す)を使う
(2) ←→キー、又は h,l キー又は alt+x で切り替える
(3) マウスのボタン５ を押す
(4) ツールバーのアイコンで切り替える
(5)「表示」メニューで切り替える



[ 検索 ]

Ctrl+f, / : 検索ボックスにフォーカスを移して後方検索開始
? : 検索ボックスにフォーカスを移して前方検索開始
検索ボックスに検索文字列を入れてEnter: 検索開始
検索ボックスに検索文字列入れてCtrl+Enter: ( スレビューのみ ) レス抽出
Esc : 検索中止
Enter, F3, n : 後方検索
Shift+Enter, Ctrl+F3, N : 前方検索

( スレビューのみ )単語をスペースで分けて検索すると全ての単語を検索する


[ ログ検索 ]

キャッシュ内にある全ログの中からキーワードを検索する場合はファイルメニューの
ログ検索を選択するかツールバーにあるログ検索ボタンを押すと現れる検索ビュー
にキーワードを入力してEnterを押す。

ある特定の板の中にあるログだけを対象にして検索をする場合は、スレ一覧を
開いてスレ一覧検索ボックスにキーワードを入力してからCtrl+Enterを押すか、
スレ一覧のツールバーにあるログ検索ボタンを押して検索ビューを表示する。

またスレビューで範囲選択をしてから右クリックメニューの中のログ検索メニュー
から検索することもできる。

検索ビューの操作方法はスレビューの操作方法と同じである。



[ 板一覧、外部板、お気に入りの操作 ]

j , 下 : １行下
k, 上 : １行上
h, 左 : ディレクトリ閉じる
l, 右 : (ディレクトリが開いてないなら)ディレクトリを開く

PageUp: 上のページに移動
PageDown: 下のページに移動
Home, g, < : Home
End, G, > : End

space : 板やスレを開く
Ctrl+space : 板やスレをタブで開く
del : 選択行削除( お気に入りのみ )

行をクリック : 板を開く
行を中ボタンクリック : 板をタブで開く
Ctrl+クリック : 複数行選択
Shift+クリック : 複数行を範囲選択
中ボタンドラッグ : 複数行を範囲選択
複数行選択中+選択範囲をクリック : 選択されている行をタブで全て開く
複数行選択中+選択範囲外をクリック : 選択解除

板一覧とスレ一覧/スレビューの間のしきいをクリックするとサイドバー(板一覧)を折り畳む
もう一度クリックで復帰する



[ スレ一覧の操作 ]

基本操作は板一覧やお気に入りと同じ

del : 選択スレのキャッシュ削除

選択スレをドラッグ -> Favoriteにドロップ : 選択スレをお気に入りに登録 
列名クリック : ソート状態変更

右クリックメニューからスレのブックマーク設定/解除ができる
マーク列でソートをかけることによってビューの上の方に配置できる

列幅の変更は、最後に閉じたBoardビューの幅が記憶されるので
他のスレ一覧ビューを全て閉じてからおこなうこと

数字を入力すると対象番号のスレにジャンプする

基本はA列でソートしたいが、A列の値が同じグループの中ではB列でソートしたい
というときはB列をクリックしてソートしてからA列をクリックする
例えば「マークでソートして新着スレや既読スレのグループの中では書き込み日で
ソートしたい」という場合は書き込み日の列をクリックしてからマーク列をクリックする



[ スレビューの操作 ]

多段ポップアップの方法

ポップアップ表示されている時にマウスの右ボタンをクリックし、そのままボタンを離さずに
カーソルを動かすと、ポップアップが固定されて閉じなくなるのでカーソルを他のホップアップ
の上に移動できる。ポップアップの外にカーソルが出ると閉じる

本文中の数字を範囲選択してマウスポインタを上に移動 : 対応したレスをポップアップ表示
本文中の"ID:〜"を範囲選択してマウスポインタを上に移動 : ID抽出してポップアップ表示

何もないところで中クリック : オートスクロール開始
何もないところで右クリック : 通常メニュー表示

レスアンカーの上でクリック : メニュー表示
レスアンカーの上で中クリック : 対象の周辺のレスを抽出して別のタブに表示
レスアンカーの上で右クリック : 通常メニュー表示

レス番号の上でクリック : メニュー表示
レス番号の上で中クリック : ブックマーク設定/解除
レス番号の上で右クリック : 現在のレスを参照しているレスを抽出してポップアップ表示

名前の文字の上でクリック : メニュー表示
名前の文字の上で中クリック : 名前抽出して別のタブに表示
名前の文字の上で右クリック : 名前抽出してポップアップ表示

IDの上でクリック : メニュー表示
IDの上で中クリック : ID抽出して別のタブに表示
IDの上で右クリック : ID抽出してポップアップ表示

リンクの上でクリック : 開く
リンクの上で右クリック : 通常メニュー表示

画像リンクの上でクリック : 開く
画像リンクの上でCtrl+クリック : バックグラウンドで開く
画像リンクの上で中クリック : バックグラウンドで開く
画像リンクの上で右クリック : 通常メニュー表示

ESC: ロード停止、ポップアップ表示を消す

Space, PageDown : １ページ下
d : 半ページ下
j , 下 : １行下

b, PageUp : １ページ上
u : 半ページ上
k, 上 : １行上

F2 : 次のブックマークに移動
Ctrl+F2 : 前のブックマークに移動

w : 書き込みウィンドウ表示

Home, g, < : Home
End, G, > : End
F4 : 新着へ移動
BackSpace : ジャンプした時にジャンプ元のレスに戻る
数字入力で対象のレスにジャンプする


[ 書き込みビューの操作 ]

alt + c : 書き込みをキャンセル
alt + w : 書き込み実行

Ctrl+p, 上 : カーソルを上に移動
Ctrl+n, 下 : カーソルを下に移動
Ctrl+f, 右 : カーソルを右に移動
Ctrl+b, 右 : カーソルを左に移動
Home : 行の先頭に移動
Ctrl+e, End : 行の最後に移動

Ctrl+d, Delete : 一文字削除
Ctrl+z, Ctrl+/ : undo
Ctrl+a, 全選択

なお、Emacs風に Ctrl+a を Homeに割り当てたい場合は、キー設定ファイル
(~/.jd/key.conf)に 

HomeEdit = Ctrl+a

の行を追加する



[ 画像ビューの操作 ]

マウスでドラッグ : 画面スクロール
ダブルクリック : 画像再読み込み
中クリック : 閉じる
右クリック : メニュー表示

K, Shift+上 : 画像を上にスクロール
J, Shift+下 : 画像を下にスクロール
L, Shift+左 : 画像を左にスクロール
H, Shift+右 : 画像を右にスクロール

z: 元の画像サイズ
x: 画像を画面にフィットさせる
+: 画像の拡大
-: 画像の縮小
c: 画像のモザイク解除
Ctrl+s : 保存
Delete : 削除
Esc : ロード停止



//////////////////////////////////////////////////////////////
//
//  マウスジェスチャ
//

右ボタンを押しながら下のジェスチャを入力しボタンを放すとコマンドが実行される

← : 前のビューに戻る
→ : 次のビューに進む
↓→: 閉じる
↑↓ : 再読込
↑ : ロード停止(Escape)
↓ : スレ一覧ビュー ←→ スレビュー切替 (2ペーンモード時)
↑← : 左のタブへ移動
↑→ : 右のタブへ移動
→↑ : Home
→↓ : End
→↓→ : 新着へ移動
↓←: 書き込み
↓↑ : 画像のモザイク解除


また右ボタンを押しながらホイールを回転させるとタブを切り替える



//////////////////////////////////////////////////////////////
//
//  履歴 
//


- 1.8.5-beta070114

生のdatファイルに\0などの制御文字が含まれていると表示が壊れるバグを修正
スレ一覧のマークでのソーティングアルゴリズムを変更
キャッシュのログ検索を暫定的に実装
ツールバーにサイドバーの切り替えボタンを付けた
移転処理した時に移転した板を表示するダイアログでTextViewを使用した
移転処理をしたときにSETTING.TXTをロードしなくなる時があるバグを修正
移転したときに履歴メニューのURLが変更されていなかったバグを修正
外部板ビューを廃止して外部板は板一覧の先頭に表示するようにした
板一覧とお気に入りをサイドバー形式に変更
スレ一覧、スレ表示、画像タブを廃止
ビュー切り替えボタンをツールバーに追加
ツールバーの位置を切り替えられるようにした
書き込み時のデフォルトの名前とメールアドレスを板別に設定できるようにした
書き込みビューにundoボタンを付けた
画像ビューでキーボードでスクロール出来るようにした
チルトボタンの設定を button.conf に追加


- 1.8.5-beta061227

設定ファイルをjd.confに移行
キャッシュフォルダの指定を環境変数 JD_CACHE で行うようにした
スレビューでBSキーでジャンプ元のレスに戻れるようにした
書き込みビューでundo実装
書き込みビューでC-npfbdaeのショートカット実装
スレ一覧でのマルチキーソーティング実装
スレ一覧でのスレのブックマーク機能実装
スレ一覧で規定のレス数を越えていて全レスを読んだスレを下にする機能実装
設定メニューに「フォント幅の近似計算を厳密におこなう」を追加
クリックでポップアップウィンドウにマウスポインタを動かせるようにした
設定メニューに「シングルクリックで多重ポップアップモードに移行する」を追加
板別にプロキシの設定をできるようにした
レス番号指定であぼーんできるようにした


- 1.8.1-061217

&nbsp; をスペース(0x20)に置き換えた


- 1.8.1-rc061213

gtkmm-24環境でリンクの下線がずれるバグを修正
スレビューで折り返しがあるときに描画されない時があるバグを修正
.jdrcでhistory_size = 0とすると落ちるバグを修正
スレ表示でボールド文字の右側が欠けるバグを修正
暫定的にチルトスクロールに対応
.jdrcでtab_min_str より少ない文字数のタブの最後の文字が消えるバグを修正
タッチパッドからの数字入力でジャンプ出来なかったバグを修正
折り返しの禁則処理の問題を修正
etc.txtの一番上が表示されなかったバグを修正
フォントによってスレの文字がずれるバグをある程度修正( strict_char_width )
サイドバーの挙動が変だったバグを修正
書き込みビューに長い文字列をコピーすると落ちるバグを修正


- 1.8.1-beta061202

ツリービューで選択範囲外の行をクリックしても選択が解除されないバグを修正
margin_popup = 0 とすると画像ポップアップが表示されないバグを修正
スレ一覧で複数(30〜40以上)のスレを選択して同時に開くと落ちるバグを修正
・スレ一覧で選択した行数をステータスに表示するようにした
文字参照処理を作りなおした( spchar_tbl.h 追加)
お気に入りで列を削除した時にフォーカスを次の列に移すようにした
ツリービューで複数選択したときに選択数をステータスに表示するようにした
お気に入りでディレクトリを移動する時にフォーカスが変になるバグを修正
ビューのフォーカスの切り替え処理部をまじめに書き直した
MISC::iconv を MISC::Iconv に変更(FreeBSDのiconv.h対策)
スレ一覧を表示するまでの時間を短縮した
右クリックメニューや設定メニューを見直してシンプルにした
ホイールマウスジェスチャが正常に動作しない時があるバグを修正
スレ一覧で新着スレにマークを付けるようにした( netthread.png 追加 )
画像ビューで強制再読み込みをしたときにアイコンの表示が変わらないバグを修正
起動を若干高速化
フォーカス状態をきちんとセッション管理するようにした
アンカークリックで他スレを開くときに開いているタブの左に開くようにした
新着があるとログを削除してもマークが消えないバグを修正
datファイル保存を右クリックメニューに追加
automake-1.10に対応
configureのオプションに --with-core2duo　追加
書き込み中ダイアログを出さないようにする設定追加( hide_writing_dialog )
横幅が16よりも小さい画像を開くと落ちるバグを修正
文字の描画でPangoLayoutではなくてPangoGlyphStringを使うようにした
スレ一覧で並び替えをするとフォーカスが外れるバグを修正
スレ一覧とスレビューで数字入力でジャンプする機能を追加


- 1.8.0-061114

アクセス規制などで書き込めないときにエラーメッセージが表示されないバグを修正
書き込みエラー時にサーバーからのメッセージをコンソールに表示するようにした
セットアップダイアログをタスクトレイに表示するようにした
画像の保存ダイアログでEnterキーを押して保存できるようにした


- 1.8.0-rc061108

適当に処理していたDAT落ち判定をまじめにするようにした
HTTP304が返ると壊れているスレでも壊れているという表示がでないバグを修正
書き込みプレビューでレス番号をクリックしてもポップアップメニューなどが出ないようにした
板の移転があったときにお気に入りのURLも変更するようにした
表示しているスレを閉じるときにひとつ前のページに一瞬だけフォーカスが移るバグを修正
スレあぼーんでNGワードでスレを全てあぼーんした後に解除すると表示が戻らないバグを修正
画像のドラッグスクロールが効かなくなる時があるバグを修正


- 1.8.0-beta061103

画像のキャッシュをまとめて消すときにビューが閉じなかったバグを修正
ユニコード文字参照で#と;の間が数字でないときに変な文字が出てくるバグを修正
configure.inのlibSMのサーチパスに/usr/X11R6/lib64 /usr/lib64を追加
書き込みウインドウにスレのタイトルを表示するようにした。
desktop-file-utilsの使用変更に対応するためjd.specとjd.desktopを更新
ユーザコマンドと外部板設定ファイルで空白行とコメント行を入れられるようにした
互換板でもSETTING.TXTをダウンロードするようにした
デフォルト名無しで無いときにレスの「名前」のところをクリックしてNG名前登録できるようにした
あぼーんしたレスをクリックして透明あぼーん設定が出来るようにした
書き込み時に名前欄に<>が含まれていると書き込みプレビューが壊れるバグを修正
メール欄でsageの前に文字列が入っているとageとして処理されるバグを修正
名前の抽出とポップアップを可能にした
jd.desktopにName[ja]とComment[ja]の行を追加
IDや名前で抽出したときに荒らし報告ように抽出したレスのURLを表示できるようにした。
書き込みの時に行数、バイト数をオーバーしてたら警告を出すようにした


- 1.8.0-beta061023

書き込みウィンドウに現在の行数や最大行数などを表示した
リンクにime.nu/などが含まれているときに削除するようにした
ユーザーコマンドを設定出来るようにした
webブラウザ設定のリンク置換文字を%sから %LINKに変更(一応 %sでも置換可能 )
期間を指定して画像キャッシュを消せるようにした
レス番号クリックの「レスをコピー」でコピーするときにで板名やスレ名も含めるようにした
参照コピー時に先頭に付ける文字列を変更できるようにした(ref_prefix)
タブメニューにタイトルとURLのコピーを追加
開く画像の最大サイズを設定できるようにした( max_img_size )
改行直後の空白の取扱いが変だったのを修正
ageているレスのメール欄に色を付けられるようにした( color_char_age_{RGB} )
レスあぼーんでNGワードや正規表現に改行が入っていても無視されるバグを修正
暫定的に書き込みログ保存機能を実装


- 1.8.0-beta061009

ログイン機能実装
右クリック+ホイール回転ででタブ切り替え出来るようにした
新着が透明あぼーんされているときスクロールがずれるバグを修正
表示メニューにサイドバー表示を追加
サイドバーを消したまま閉じて起動したときも閉じた状態のままにするようにした
F9キーでサイドバー表示/非表示切り替え出来るようにした
書き込みプレビューでトリップを表示出来るようにした


- 1.7.0-060927

書き込み中表示のダイアログのラベルがフォーカスされているバグを修正


- 1.7.0-rc060921

specファイルのバージョンの付け方をFedora風にした
Fedora向けにjd.specとjd.desktop改良
レス内容のコピーをしたときにIDの後ろに0000000という文字列が入るバグを修正
ウィンドウサイズを変更したときに現在見ているレスがずれるバグを修正
板一覧をクリックすると左ペーンが閉じる時があるバグを修正
新規の先頭レスが透明あぼーんされていると新着セパレータが表示されないバグを修正
抽出結果などのタブをお気に入りにドロップすると空白行が出来るバグを修正
オフラインのときに複数選択で板谷スレを開くとリロードアイコンが表示されるバグを修正
板を複数選択を開いたときに現在開いている板のフォーカスが奪われるバグを修正
タブメニューに更新キャンセルを追加
オートリロードモード中にオフラインモードにしてもアイコンが変わらないバグを修正
スレ一覧をスクロールしている時に列幅を変更するとスレが開くバグを一応修正
画像の右クリックメニューで変だったところを修正
連鎖あぼーんのアルゴリズム変更(全てのアンカーがあぼーんしていたらあぼーんする)
透明/連鎖あぼーんを切り替えると新着セパレータが消えるバグを修正



- 1.70b.060914

更新した点が多いのでバージョンを1.52ではなくて1.70とした
スクロールモードになったときにタブのスクロールボタンが効かないバグを修正
スクロールモードになったときにタブのクリック動作が変だった問題を修正
マウスボタン設定にDragStartButton,TreeRowSelectionButtonを追加
環境によってはお気に入りでフォルダとその中のアイテムを範囲選択して移動すると落ちるバグを修正
ウィンドウサイズを変更するとタブの動作が変になるバグを(とりあえず)修正
板一覧でディレクトリのアイコンやラベルをクリックして開けるようにした
ツリービューで複数選択しているときに選択範囲をクリックすると全てをタブで開くようにした
ツリービューで複数選択しているときに選択範囲外をクリックすると選択解除するようにした
ツリービューで再起動したときに変な場所にスクロールするときがあるバグを修正
ツリービューでフォーカスを外したまま再起動すると変な所がフォーカスされるバグを修正
ステータスバーのの文字の色が薄い問題を修正(gtkmm2.6以降)
タブアイコンを非表示にできるようにした(.jdrcの show_tab_icon )
板一覧のメニューに「ディレクトリ内全選択」項目を追加
スクロールモードでタブをクリックしたときタブ番号の取得に失敗するバグを修正
タブ関係の処理の大幅なリファクタリング
タブメニューに「移動」の項目を追加


- 1.52b.060903

書き込みウィンドウのフォント設定を実装
2ch互換板のBASIC認証対応
migemoパッチ取り込み
株が<a href="http://2ch.se/">株</a>と表示されるバグを修正
名前欄の先頭に数字があるときだけアンカーにするようにアルゴリズムを変更
50=10のようなアンカーで=の後ろのレスが表示されなかったバグを修正
スレビューにスレの速度と最終書き込み日時を表示
ウインドウタイトルに開いているビューの名前を表示
xgl環境でポップアップをクリックするとポップアップが閉じるバグを修正
タブに表示する文字列の最小文字数設定追加( .jdrcの tab_min_str )


- 1.52b.060827

gccのバージョンによってmake出来なかった問題を解決
履歴の文字数が多い時はカットして「...」を付けるようにした
ポップアップや抽出表示からのアンカージャンプが効かないバグを修正
ヘルプに「2chスレ過去ログ」表示を追加
右クリックメニューからタブでビューを開いたときにフォーカスが移らないバグを修正
スレ一覧のアイコンがGNOMEのテーマによっては変な形になっていたので自作して統一した
スレタイが空白のときタイトルが「壊れています」になるバグの修正
板一覧と右ペーンの間のセパレータをクリックして板一覧を開いたり閉じたりする機能を追加
ftp://のリンクがhttp://として扱われるバグを修正
URLとして認識する文字をRFCに合わせた( [-a-zA-Z0-9!#$%&'()~=@;+:*,./?_] )
リンクの下線を消せるようにした( .jdrc の draw_underline )
板とスレの履歴を分離した
タブにアイコンを表示した
最適化してスレ一覧からスレを開くスピードを上げた
IDの横に発言数を表示した
全てのタブの更新機能を実装
メニュー表示のショートカット追加( Shift+F10 及び Ctrl+m )


- 1.52b.060803

あぼーんされたレスからの参照は参照数としてカウントしないようにした
発言数にあぼーんされたレスをカウントしないようにした
板一覧の列名を日本語に直した
透明あぼーん実装
連鎖あぼーん実装
ポップアップの最終行を範囲選択していると再描画がかからないバグを修正
範囲選択で画面の上下にカーソルを動かしてもスクロールしないときがあるバグを修正
1つのレスの中で同じレスに何回もレスしていると対象のレス番号が赤くなるバグを修正
サーバ/スレッド/xxx,xxx,xxx という形式のアンカーをポップアップできるようにした
xxx+xxx+xxx という形式のアンカーを連結してポップアップできるようにした
treeviewでpageupとpagedownキーを有効にした。
スレッドあぼーん実装
スレビューのの「板を開く」ボタンをクリックしたときにリロードしないで開く機能を実装
「右、左のタブを閉じる」をタブメニューに追加
再起動時にスレ一覧やスレの復元をしてもフォーカスが移らなかったバグを修正
リンクの最後に"がくると&quot;と表示されてリンクされるバグを修正
リンクの最後が()で終わっている場合はリンクにしないようにした



- 1.51.060717

スレのキャッシュを削除したときにスレ一覧のアイコンにごみが残るバグを修正
READMEを更新した


- 1.51rc.060712

https://〜ではじまるリンクを開けなかったバグを修正
あぼーんしたレスをポップアップすると assertion が出る問題を修正
ロードした画像を削除してもリンクが赤いままになるバグを修正
お気に入りビューで板、スレ、画像のプロパティを開けるようにした
スレ一覧で画像のプロパティを開けるようにした
スペースキーを押しっぱなしにすると再描画を繰り返して負荷が高くなるバグを修正
長い数列を範囲選択すると暴走するバグを修正
タブで開くボタンの入れ替えをするとツリービューでドラッグ複数選択が出来ないバグを修正
FreeBSDでautogen出来ない問題を応急処置で修正
日付のフォーマットを 01/01 01:01 みたいに2桁で揃えて0で埋めるようにした


- 1.51b.060707

内部的にオートリロード機能を実装
スレ一覧で「選択した行を開く」機能を右クリックメニューに追加
スレ一覧などのツリービューでshiftクリックしても複数選択されないバグを修正
板、スレ一覧で中ボタンドラッグで範囲選択出来るようにした
板一覧とお気に入りで「選択した行を開く」機能を右クリックメニューに追加
板一覧とスレ一覧のツリーでフォントを別々に設定出来るようにした
設定メニューに「デフォルトでタブで開く」設定を追加


- 1.51b.060628

NG Wordによるあぼ〜ん実装
正規表現によるあぼ〜ん実装
あぼ〜ん関係の処理を最適化
PrefDiagFactory追加
スレ情報が保存されなかった時があったバグを修正
bbslistのタブが縮んだままになるバグを修正
スレ一覧からスペースでスレを開くとWIDGET_REALIZED_FOR_EVENT assertが出るバグを修正
ブラウザ設定をコンボボックスを使うように改良
メニューなどの英語を日本語に直した
httpsで始まる文字列がリンクされなかったバグを修正


- 1.51b.060617

名無しがfusianasanの板の時は名前欄が空白だと書き込めないようにした
FreeBSD対応
NOUSE_MS932 を使わないようにした
板のプロパティに「名前欄が空白の時は書き込まない」チェックボタンを追加
画像キャッシュ削除ダイアログに現在のキャッシュサイズを表示するようにした
大昔(2000年頃)に建てられたスレを開いたときスレ一覧の既読マークが表示されないバグを修正


- 1.51b.060612

gtkmm24でコンパイル出来なくなったバグを修正
GTK_CHECK_VERSION マクロを取り除いた
スレのプロパティにサイズや更新日時などを表示するようにした


- 1.51b.060611

64bit対応パッチを当てた
articleviewで検索したときに再描画がかからない時があるバグを修正
articleviewで検索対象の文字列が最後のレスに含まれているとリンク下線がずれるバグを修正
一度articleviewを閉じないと最初にブックマークしたレスにジャンプ出来ないバグを修正
ダブルクリックで板やスレを開けないバグを修正
articleviewの行間幅を真面目に計算で求めるようにした
手動で下線や改行位置を調節できるようにした( adjust_underline_pos, adjust_line_space )
画像をオリジナルサイズで最初から開けるようにした( zoom_to_fit )
板のプロパティでhanaの確認と削除を出来るようにした
cookieを真面目に解析して作成するようにした(PON,NAME,MAILを取得)
ヘルプメニューからサポートBBSにアクセス出来るようにした


- 1.50.060601

誤った正規表現を入力すると落ちるバグを修正
正式版リリース


- 1.5rc.060528

hana仕様変更対応


- 1.5rc.060527

タブを中クリックで全て閉じると落ちるバグを修正
hanaに暫定対応
テスト項目消化


- 1.5b.060522

フォーカスアウト周りの処理をKDEなどの環境に合わせて変えるのを止めた
→GdkEventCrossingのmodeをみてフォーカスアウトするかどうか決定


- 1.5b.060518

KDE環境でリンクをクリックしても反応が無い問題を修正
KDE環境で多重ポップアップ出来ない問題を修正
まちBBSでレスの引用書き込みが出来なかったバグを修正
gtk2-2.9のツリービューのパス取得の仕様が変わったせいで固まるバグを修正


- 1.5b.060514 フィーチャーフリーズ

キーワードやIDなどを抽出するときは抽出元のスレの隣にタブを開くようにした
マウスジェスチャやショートカットキーボタンの設定を細かく出来るようにした
名前がデフォルトの名無しの時は数字をアンカーにしないようにした
sprintfになっていた部分をsnprintfに直した
FreeBSDでhistoryがセグフォ出していた問題を修正
書き込み確認のダイアログを表示するようにした( always_write_ok )
書き込み中に「書き込み中」と表示するようにした
書き込みがタイムアウトしたら再読みしろというダイアログを出すようにした
FreeBSDでもautogen.shが通るようにした
履歴を板とスレで分けた
履歴の保持数を設定できるようにした( history_size )
板一覧でカテゴリ全体をまとめてお気に入りに登録できるようにした

(追加変更した操作)
タブをダブルクリック : 再読み込み
ダブルクリック : 画像再読み込み
alt + q : 書き込みをキャンセル ( alt + c から変更 )


- 1.5b.060415

configure.inを修正
libgnomeuiでは無くてXSMPをデフォルトで使用するようにした
ポップアップ中にマウスホイールを回したらポップアップの方をスクロールさせるようにした
ポップアップとカーソルの間のマージンを設定出来るようにした( margin_popup )
板一覧でカテゴリをひとつだけしか開かないように設定可能にした( open_one_category )
メニューにショートカットキーを表示するようにした
設定ファイル(keyconf.xml)でキーバインディングを設定出来るようにした

(追加変更したショートカットキー)
alt + c : 書き込みをキャンセル
alt + w : 書き込み実行
F3 : 新着へ移動が次検索と被っていたのでF4に変更


- 1.5b.060401

gnomeセッションを終了時にセッション情報を保存するようにした(要libgnomeui-devel)
configure.in.vineを消してconfigure.inひとつに統一した
コンパイルオプションに-Wallを付けて出てきた警告を全部消した


- 1.5b.060319

自前のツールチップの表示部を作りなおした(背景色をテーマに合わせるようにした)
タブの色がテーマによっては変になるバグを修正
"123-124"みたいなアンカーがあるとき、半角の"-"も認識するようにした
いつの間にかポップアップでスクロールバーが出なくなっていたので修正
SIGINTやSIGHUPを受け取ったときにお気に入りをバックアップするようにした(テスト不十分)
ローダがget_addrinfoに失敗すると落ちるバグを修正


- 1.5b.060311

他のスレをポップアップした直後にそのスレを消して再ポップアップすると落ちるバグを修正
ロード開始直後にすぐスレを閉じると落ちるバグを修正
キャッシュのルートディレクトリがうまく設定できないバグを修正
正規表現クラス実装
rawモード読み込み対応(?)
まちBBSの読み書きに対応(スレ立てはテスト出来ないので未実装)
bbslist,board,articleビューで正規表現による抽出・検索機能実装
範囲指定のみでXのバッファに文字列をコピーするようにした
多重起動防止実装( ロックファイルは (キャッシュルート)/JDLOCK )
ファイルローダでsendしたときのエラーチェックがいい加減だった問題を修正
zlib1.1系に対応(-DUSE_OLDZLIB)
その他ファイルローダの安定化
articleビューでスクロール時の負荷を大幅に減らした
HTMLパーサを少しだけ最適化
リンクの上を範囲選択してマウスを上げると開いてしまうバグを修正
オートスクロール中にキーを押すとスクロールが止まるバグを修正
画像インジケータのアイコン画像の比率が変だったバグを修正
板別に最後にソートした列を記録するようにした
windowを最大化/最大化解除したときにタブの幅を調整するようにした
jd.spec, jd.png、jd.desktopを付属( thanks to 189, 190氏 )
その他細かい修正


- 1.5b.060219

ファイルロード時にconnectに失敗していてもsendしていた問題を修正


- 1.5b.060214

アイコンバーのアイコンを並び替えるとスクロールが変になるバグを修正
画像のロード中に画像保存ダイアログを開くとロードが停止するバグを修正
名前欄のトリップの中の数字をリンクしないようにした
Fileメニューにお気に入り保存を追加

(追加、変更したショートカットキー、マウスジェスチャ)
F3 : 新着へ移動
→↓→ : 新着へ移動
z: 元の画像サイズ
x: 画像を画面にフィットさせる
+: 画像の拡大
-: 画像の縮小
c: 画像のモザイク解除  ( x から変更、gthumbに合わせるため )



- 1.5b.060207

ファイルローダで一度タイムアウトすると再読み込みしなくなるバグを修正
縦3paneモード実装


- 1.5b.060205

subject.txtが壊れていると落ちるバグを修正
ファイルローダでsend時にタイムアウトしているのにエラーチェックを素通りしていたバグを修正
ファイルローダをhttps対応にした
ファイルロード中にロード停止したときの反応を良くした
Gtk::Stock::MEDIA_RECORDを使うのを止めた


- 1.5b.060204

コードを大幅整理(特にスレ標示部)
ユニコード文字参照に対応
書き込み中にarticleビューの書き込みボタンを押してもmessageを閉じないようにした


- 1.5b.060115

履歴をクリアした後板を開くと落ちるバグを修正
ツリービューのスクロール処理を自前でするようにした( .jdrcのtree_scroll_sizeで調整 )
ダブルクリックで文字列を範囲選択出来るようにした


- 1.5b.060113

GLIBのスレッド初期化忘れを修正
コンパイルオプションに -DNOUSE_MS932 を与えるととCP932で文字コード変換するようにした
iconvでMS932からUTF8にマッピング出来なかった文字を□に変換するようにした
起動時のimageの復元機能実装
SETTING.TXTのローダ作成
操作性向上(主にタブ操作、画像操作まわり)


- 1.5b.060106

favoriteで名前が変更出来ないバグを修正
画像を保存した後に画像をダウンロードすると固まるバグを修正
起動時のboard,articleの復元機能実装
history機能実装
文字参照の一部を実装(thinsp, ensp, emsp, etc.)


- 1.0.060101 

リリース
